{
  "elastic_samples": {
    "es_index": {
      "index": {
        "aliases": {},
        "mappings": {
          "properties": {
            "users": {
              "type": "nested",
              "properties": {
                "password": {
                  "type": "text"
                },
                "trips": {
                  "type": "nested",
                  "properties": {
                    "attractions": {
                      "type": "nested"
                    },
                    "end_date": {
                      "type": "date"
                    },
                    "events": {
                      "type": "nested"
                    },
                    "location": {
                      "type": "text"
                    },
                    "restaurants": {
                      "type": "nested"
                    },
                    "start_date": {
                      "type": "date"
                    },
                    "trip_id": {
                      "type": "text"
                    }
                  }
                },
                "user_id": {
                  "type": "text"
                },
                "username": {
                  "type": "text"
                }
              }
            }
          }
        },
        "settings": {
          "index": {
            "routing": {
              "allocation": {
                "include": {
                  "_tier_preference": "data_content"
                }
              }
            },
            "number_of_shards": "1",
            "provided_name": "index",
            "creation_date": "1681800686614",
            "number_of_replicas": "1",
            "uuid": "86v5ESPeQ7KfQ-T5OUWk-A",
            "version": {
              "created": "8070099"
            }
          }
        }
      }
    },
    "es_put_command": {
      "command": "PUT index/_doc/1",
      "content": {
        "users": [
          {
            "user_id": "1",
            "username": "anthony722",
            "password": "passwordHash",
            "trips": [
              {
                "Trip_id": "1",
                "Location": "Toronto, ON",
                "Start_date": "Datetime",
                "End_date": "Datetime2",
                "Restaurants": [
                  {
                    "name": "Chilis",
                    "type": "American",
                    "rating": 5
                  }
                ],
                "Attractions": [
                  {
                    "name": "Six Flags",
                    "type": "Amusement Park",
                    "rating": 5
                  }
                ],
                "Events": [
                  {
                    "name": "Future",
                    "type": "Concert",
                    "rating": 5
                  }
                ]
              }
            ]
          }
        ]
      }
    },
    "es_queries": {
      "command": "GET /index/_search",
      "content": {
        "query": {
          "nested": {
            "path": "users",
            "query": {
              "nested": {
                "path": "users.trips",
                "query": {
                  "bool": {
                    "must": [
                      {
                        "match": {
                          "users.trips.Restaurants.type": "American"
                        }
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "fields": [
          "users.trips.Restaurants.name"
        ],
        "_source": false
      }
    }
  },
  "index":{

  }
}

